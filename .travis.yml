# os:
#   - osx
language: python
addons:
    apt:
        packages:
            - graphviz
            - fonts-ipafont
# env:
#     global:
#         - LANG=ja_JP.UTF-8
#         - LC_ALL=ja_JP.UTF-8
# python:
#   - "3.5"
# before_install:
#  - "sudo apt-get install graphviz"
install: "pip install -q -r requirements.txt"
before_script:
#  - "export LANG=ja_JP.UTF-8"
  "java -jar plantuml/plantuml.jar -printfonts"
script: sphinx-build -E -nW -b html -d build/doctrees source build/html
before_deploy:
  - "touch build/html/.nojekyll"
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GH_TOKEN
  local_dir: build/html
  on:
    branch: master
